---
title: "lab-03"
subtitle: ESS330
author:
  - name: Mel
    email: 
format: html
---

```{r}
library(zoo)
library(flextable)
library(tidyverse)
```

##Question 2
#part 1 
```{r}
library(tidyverse)
url = "https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv"
covid_data = read_csv(url)
```
#part 2 
```{r}
txt <- "2022-02-01"
class(txt)
date_example <- as.Date(txt)
class(date_example)
```
```{r}
my.date <- as.Date("2022-02-01")
my.state <- "Colorado"
```
#part 3
```{r}
colorado <- covid_data %>% 
  filter(state == my.state) %>% 
  group_by(county) %>% 
  arrange(date) %>%
  mutate(new_cases = cases - lag(cases), 
         new_deaths = deaths -lag(deaths)) %>% 
  ungroup()
```
#part 4
```{r}
filter(colorado, date == my.date) %>% 
  slice_max(cases, n = 5) %>% 
  select(Date = date, County = county, Cases = cases) %>% 
  flextable() %>% 
  set_caption("Most Total Cases")

filter(colorado, date == my.date) %>% 
  slice_max(cases, n = 5) %>% 
  select(Date = date, County = county, Cases = new_cases) %>% 
  flextable() %>% 
  set_caption(caption = "Most New Cases")
```

##Question 3 

```{r}
library(tidyverse)
url = "https://www2.census.gov/programs-surveys/popest/datasets/2020-2023/counties/totals/co-est2023-alldata.csv"
pop_data = read_csv(url)
```
#part 1 
```{r}
library(tidyverse)
pop_url <- 'https://www2.census.gov/programs-surveys/popest/datasets/2020-2023/counties/totals/co-est2023-alldata.csv'

pop_url %>% 
  select(contains(NAME, 2021))
```


